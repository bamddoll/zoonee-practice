import streamlit as st

# ----------------------
# 상담 보조 프로그램
# ----------------------
st.set_page_config(page_title="상담 보조 프로그램", layout="wide")
st.title("💬 상담 보조 프로그램")
st.write("내담자의 성별, 나라, 종교를 선택하면 맞춤 생활 지침과 상담 주의사항을 안내합니다.")

# 1. 입력창: 성별, 나라, 종교 선택
gender = st.selectbox("성별을 선택하세요", ["남성", "여성", "기타"])
country = st.selectbox("나라를 선택하세요", ["대한민국", "미국", "이집트", "인도", "이스라엘"])
religion = st.selectbox("종교를 선택하세요", ["기독교", "이슬람교", "힌두교", "불교", "유대교", "무교"])

# 2. 예시 데이터(실제 서비스에서는 DB/API 연동 필요)
guides = {
    ("남성", "이집트", "이슬람교"): {
        "식습관": "돼지고기, 술 등은 금지되어 있습니다. 할랄 음식만 섭취해야 합니다.",
        "종교관": "하루 5번 기도, 라마단 기간 금식 등 이슬람 율법을 따릅니다.",
        "성별제약": "남성은 공공장소에서 여성과 신체 접촉을 피해야 하며, 복장도 단정해야 합니다."
    },
    ("여성", "인도", "힌두교"): {
        "식습관": "소고기는 금지, 채식 위주 식단이 많습니다.",
        "종교관": "힌두교 사원 출입 시 복장에 주의해야 하며, 신발을 벗고 들어가야 합니다.",
        "성별제약": "여성은 일부 지역에서 외출·복장에 제약이 있을 수 있습니다."
    },
    ("남성", "미국", "기독교"): {
        "식습관": "특별한 제약은 없으나, 일부 교파는 금주·금연을 권장합니다.",
        "종교관": "일요일 예배 참석이 일반적입니다.",
        "성별제약": "성별에 따른 법적 제약은 거의 없습니다."
    },
    ("여성", "이스라엘", "유대교"): {
        "식습관": "코셔(유대교 율법에 맞는 음식)만 섭취, 돼지고기·해산물 금지.",
        "종교관": "안식일(금~토)에는 노동·운전·요리 등 금지.",
        "성별제약": "정통파 지역에서는 여성의 복장·외출에 제약이 있습니다."
    },
    # 기본값(매칭 안 될 때)
    ("기타", "대한민국", "무교"): {
        "식습관": "특별한 제약이 없습니다.",
        "종교관": "종교적 제약이 없습니다.",
        "성별제약": "성별에 따른 법적 제약이 없습니다."
    },
}

# 3. 결과창: 항목별 안내
result = guides.get((gender, country, religion))
if result is None:
    # 매칭되는 데이터가 없으면 기본값 사용
    result = guides[("기타", "대한민국", "무교")]

st.divider()
st.header("생활 지침 및 법규 안내")
col1, col2, col3 = st.columns(3)
with col1:
    st.subheader("🍽️ 식습관")
    st.info(result["식습관"])
with col2:
    st.subheader("🛐 종교관")
    st.info(result["종교관"])
with col3:
    st.subheader("🚻 성별에 따른 제약")
    st.info(result["성별제약"])

# 4. 종합 코멘트
st.divider()
st.header("상담 시 주의사항")
comment = "상담 시 내담자의 문화·종교·성별적 배경을 존중하며, 민감한 주제(식습관, 종교행위, 복장 등)에 대해 사전 안내와 배려가 필요합니다."
if country == "이집트" and religion == "이슬람교":
    comment = "이슬람 문화권에서는 종교적 율법(기도, 금식, 음식 등)과 성별 간 예절을 반드시 존중해야 하며, 라마단 기간에는 식사·음료 권유를 삼가세요."
elif country == "인도" and religion == "힌두교":
    comment = "힌두교 신자에게는 소고기 제공을 피하고, 사원 방문 시 복장·예절을 안내하세요."
elif country == "이스라엘" and religion == "유대교":
    comment = "유대교 신자와 상담 시 안식일, 코셔 식단, 정통파 지역의 성별 규범을 반드시 안내하세요."
elif religion == "무교":
    comment = "특별한 종교적 제약은 없으나, 개인의 가치관을 존중하는 상담이 필요합니다."
st.success(comment)
